# SPDX-License-Identifier: GPL-2.0-only

ifeq ($(CONFIG_NET_PICO_SUPPORT_IPV4),y)
KBUILD_CPPFLAGS += -DPICO_SUPPORT_IPV4
endif

ifeq ($(CONFIG_NET_PICO_SUPPORT_ICMP4),y)
KBUILD_CPPFLAGS += -DPICO_SUPPORT_ICMP4 -DPICO_SUPPORT_PING
endif

ifeq ($(CONFIG_NET_PICO_SUPPORT_IPFRAG),y)
KBUILD_CPPFLAGS += -DPICO_SUPPORT_IPFRAG
endif

ifeq ($(CONFIG_NET_PICO_SUPPORT_UDP),y)
KBUILD_CPPFLAGS += -DPICO_SUPPORT_UDP
endif

ifeq ($(CONFIG_NET_PICO_SUPPORT_ETH),y)
KBUILD_CPPFLAGS += -DPICO_SUPPORT_ETH
endif

ifeq ($(CONFIG_NET_PICO_SUPPORT_DEVLOOP),y)
KBUILD_CPPFLAGS += -DPICO_SUPPORT_DEVLOOP
endif

ifeq ($(CONFIG_CPU_BIG_ENDIAN),y)
KBUILD_CPPFLAGS += -DPICO_BIGENDIAN
endif

obj-y			+= lib.o
obj-$(CONFIG_NET)	+= eth.o
obj-$(CONFIG_NET)	+= net.o
obj-$(CONFIG_NET_NFS)	+= nfs.o
obj-$(CONFIG_NET_DHCP)	+= dhcp.o
obj-$(CONFIG_NET_SNTP)	+= sntp.o
obj-$(CONFIG_CMD_PING)	+= ping.o
obj-$(CONFIG_NET_RESOLV)+= dns.o
obj-$(CONFIG_NET_NETCONSOLE) += netconsole.o
obj-$(CONFIG_NET_IFUP)	+= ifup.o
obj-$(CONFIG_NET_FASTBOOT) += fastboot.o

obj-$(CONFIG_NET_PICOTCP) += picotcp/
obj-$(CONFIG_NET_PICOTCP) += picotcp.o

obj-$(CONFIG_CMD_PICOTCP_TEST_IPV4) += picotcp_test_ipv4.o
obj-$(CONFIG_CMD_PICOTCP_IFCONFIG) += picotcp_ifconfig.o
obj-$(CONFIG_CMD_PICOTCP_ROUTE) += picotcp_route.o
